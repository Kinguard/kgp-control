opi-control (1.1.38) vili; urgency=medium

  * Added possibility to load theme files in UI.
  * Fixed return codes from webcalls to reflect the actual status set by callbacks. 

 -- PA Nilsson <pa@openproducts.se>  Fri, 07 Sep 2018 07:59:58 +0200

opi-control (1.1.37) vili; urgency=medium

  * Restore dynamic luksdevice-detection in storagemanager

 -- Tor Krill <tor@openproducts.se>  Fri, 06 Jul 2018 15:53:28 +0200

opi-control (1.1.36) vili; urgency=medium

  * Updates to use sysconfig

 -- Tor Krill <tor@openproducts.se>  Fri, 06 Jul 2018 11:17:47 +0200

opi-control (1.1.35) vili; urgency=medium

  * Only do cleanup of "Shutting down" messages. 

 -- PA Nilsson <pa@openproducts.se>  Thu, 14 Jun 2018 09:46:11 +0000

opi-control (1.1.34) vili; urgency=medium

  * Add postinst script to do cleanup from earlier packages

 -- Tor Krill <tor@openproducts.se>  Wed, 13 Jun 2018 16:46:47 +0200

opi-control (1.1.33) vili; urgency=medium

  * Remove shutdown notifier from package, moved to kinguard-powermanagement
    for now at least.

 -- Tor Krill <tor@openproducts.se>  Wed, 13 Jun 2018 16:08:22 +0200

opi-control (1.1.32) vili; urgency=medium

  * Detect already unlocked system and terminate gracefully
  * Don't launch opi-authproxy at completion. Let it be started by systemd

 -- Tor Krill <tor@openproducts.se>  Fri, 08 Jun 2018 09:34:59 +0000

opi-control (1.1.31) vili; urgency=medium

  * Added popup and warning texts not reload page during setup. 

 -- PA Nilsson <pa@openproducts.se>  Fri, 23 Mar 2018 14:11:43 +0100

opi-control (1.1.30) vili; urgency=medium

  * Adjusted redirect timeout for OPI 

 -- PA Nilsson <pa@openproducts.se>  Tue, 20 Mar 2018 16:59:12 +0100

opi-control (1.1.29) vili; urgency=medium

  * Fix redirect after unlock when using complete FQDN's, Closes #421 

 -- PA Nilsson <pa@openproducts.se>  Tue, 06 Mar 2018 17:32:30 +0100

opi-control (1.1.28) vili; urgency=medium

  * Fix bug in storage manager that resulted in multiple reinit.

 -- Tor Krill <tor@openproducts.se>  Tue, 27 Feb 2018 14:48:48 +0100

opi-control (1.1.27) vili; urgency=medium

  * Check sysconf for opiname before trying to parse mail domains
  * Pass fully fqnd to dns backends fixing #403

 -- Tor Krill <tor@openproducts.se>  Mon, 15 Jan 2018 16:46:32 +0100

opi-control (1.1.26) vili; urgency=medium

  * Check disk instead of partition when initializing #411

 -- Tor Krill <tor@openproducts.se>  Thu, 11 Jan 2018 14:38:21 +0100

opi-control (1.1.25) vili; urgency=medium

  * Revert to not manually trigger opi-postsetup

 -- Tor Krill <tor@openproducts.se>  Thu, 21 Dec 2017 07:31:02 +0100

opi-control (1.1.24) vili; urgency=medium

  * Make sure opi-access completed before we start opi-control

  * Detach lets encrypt signing and wait for completion before
    shutting down webserver

 -- Tor Krill <tor@openproducts.se>  Fri, 15 Dec 2017 15:15:02 +0100

opi-control (1.1.23) vili; urgency=medium

  * Update to use systemd exclusively
  * Trigger opi-postestup internally when completed startup

 -- Tor Krill <tor@openproducts.se>  Wed, 13 Dec 2017 14:49:48 +0100

opi-control (1.1.22) vili; urgency=medium

  * Refactor initialize lvm once more

 -- Tor Krill <tor@openproducts.se>  Sun, 10 Dec 2017 22:57:53 +0100

opi-control (1.1.21) vili; urgency=medium

  * Do some strategic sleep in init lvm to hopefully let udev create nodes

 -- Tor Krill <tor@openproducts.se>  Fri, 08 Dec 2017 15:05:35 +0100

opi-control (1.1.20) vili; urgency=medium

  * Try harder when creating pv, waiting some more for physical device
    to appear.

 -- Tor Krill <tor@openproducts.se>  Fri, 01 Dec 2017 14:30:58 +0100

opi-control (1.1.19) vili; urgency=medium

  * Updates on StorageManager

 -- Tor Krill <tor@openproducts.se>  Mon, 27 Nov 2017 17:12:40 +0100

opi-control (1.1.18) vili; urgency=medium

  * Umount s3ql FS in init.d do_stop()
  * Run notifcation of system shutdown. 

 -- PA Nilsson <pa@openproducts.se>  Fri, 10 Nov 2017 12:46:24 +0100

opi-control (1.1.17) vili; urgency=medium

  * Umount backup source after scan for restore

 -- Tor Krill <tor@openproducts.se>  Tue, 31 Oct 2017 13:16:19 +0000

opi-control (1.1.16) vili; urgency=medium

  * Update path and use dev-path used when checking for Luks

 -- Tor Krill <tor@openproducts.se>  Fri, 27 Oct 2017 07:00:23 +0000

opi-control (1.1.15) vili; urgency=medium

  * Rebuild against newer libopi

 -- Tor Krill <tor@openproducts.se>  Mon, 23 Oct 2017 16:30:11 +0000

opi-control (1.1.14) vili; urgency=medium

  * Implement poll for newly created partiton hopefully solving #343

 -- Tor Krill <tor@openproducts.se>  Tue, 17 Oct 2017 21:39:33 +0200

opi-control (1.1.13) vili; urgency=medium

  * Bump version for pbuilder rebuild 

 -- PA Nilsson <pa@openproducts.se>  Tue, 19 Sep 2017 08:02:15 +0200

opi-control (1.1.12) vili; urgency=medium

  * Remove duplicate definition for backup auth file. 

 -- PA Nilsson <pa@openproducts.se>  Mon, 18 Sep 2017 16:20:53 +0200

opi-control (1.1.11) vili; urgency=medium

  * Writing passphrase for ss3 backend during init. 

 -- PA Nilsson <pa@openproducts.se>  Mon, 18 Sep 2017 11:28:34 +0200

opi-control (1.1.10) vili; urgency=medium

  * Updated path to backup auth-file 

 -- PA Nilsson <pa@openproducts.se>  Fri, 08 Sep 2017 11:24:17 +0200

opi-control (1.1.9) vili; urgency=medium

  * Bump for rebuild against newer libopi

 -- Tor Krill <tor@openproducts.se>  Fri, 01 Sep 2017 14:33:24 +0200

opi-control (1.1.8) vili; urgency=medium

  * Added trigger to generate signed certificate
  * Remember URI on redirect http->https 

 -- PA Nilsson <pa@openproducts.se>  Fri, 25 Aug 2017 15:24:31 +0200

opi-control (1.1.7) vili; urgency=medium

  * Clean install flow with mykeep.net 

 -- PA Nilsson <pa@openproducts.se>  Thu, 24 Aug 2017 08:58:39 +0200

opi-control (1.1.6) vili; urgency=medium

  * Added support to detect system type 

 -- PA Nilsson <pa@openproducts.se>  Tue, 22 Aug 2017 12:56:57 +0200

opi-control (1.1.5) vili; urgency=medium

  * Convert to use OPI Notification and some cleanups

 -- Tor Krill <tor@openproducts.se>  Mon, 17 Jul 2017 10:59:29 +0200

opi-control (1.1.4) vili; urgency=medium

  * Add missing dep on pkg-config

 -- Tor Krill <tor@openproducts.se>  Thu, 13 Jul 2017 14:57:03 +0200

opi-control (1.1.3) vili; urgency=medium

  * Updated certificate paths in stand alone webserver 

 -- PA Nilsson <pa@openproducts.se>  Tue, 29 Nov 2016 10:46:15 +0000

opi-control (1.1.2) vili; urgency=medium

  * Enable SetLedstate

 -- PA Nilsson <pa@openproducts.se>  Fri, 30 Sep 2016 11:49:52 +0000

opi-control (1.1.1) vili; urgency=medium

  * Use SysInfo to deterimine which network interface to use

 -- Tor Krill <tor@openproducts.se>  Fri, 22 Apr 2016 09:46:57 +0200

opi-control (1.1.0) vili; urgency=medium

  * Initial stab at multihw-support

 -- Tor Krill <tor@openproducts.se>  Tue, 15 Mar 2016 14:07:41 +0100

opi-control (1.0.28) vili; urgency=medium

  * Add dep on crypto++

 -- Tor Krill <tor@openproducts.se>  Mon, 15 May 2017 09:08:05 +0000

opi-control (1.0.27) vili; urgency=medium

  * Bump required version of libopi to resolve runtime link error

 -- Tor Krill <tor@openproducts.se>  Wed, 22 Apr 2015 15:41:05 +0200

opi-control (1.0.26) vili; urgency=low

  * Fixed removal of error message on key-up 'enter' event

 -- PA Nilsson <pa@openproducts.se>  Tue, 21 Apr 2015 08:11:50 +0200

opi-control (1.0.25) vili; urgency=medium

  * Rebuild against latest libopi

 -- Tor Krill <tor@openproducts.se>  Sun, 19 Apr 2015 10:29:37 +0200

opi-control (1.0.24) vili; urgency=medium

  * Always delete old keys

 -- Tor Krill <tor@openproducts.se>  Sun, 19 Apr 2015 10:20:03 +0200

opi-control (1.0.23) vili; urgency=medium

  * Fix PFS via ECDH
  * Tighten ciphers used
  * Use strict transport

 -- Tor Krill <tor@openproducts.se>  Wed, 15 Apr 2015 16:04:04 +0200

opi-control (1.0.22) vili; urgency=medium

  * Fix returnstates on failed (re)init

 -- Tor Krill <tor@openproducts.se>  Sat, 11 Apr 2015 11:38:17 +0200

opi-control (1.0.21) vili; urgency=medium

  * Poll secop instead of failing if not responding to status request
  * Fixes to pagemapping, pa@openproducts.se
  * Fixed #257 - help popups not visable on small screens, PA
  * Add scriptfolder to be executed upon successful restore

 -- Tor Krill <tor@openproducts.se>  Wed, 08 Apr 2015 15:42:43 +0200

opi-control (1.0.20) vili; urgency=medium

  * Fix faulty pagemapping in web-ui

 -- Tor Krill <tor@openproducts.se>  Wed, 01 Apr 2015 11:31:34 +0200

opi-control (1.0.19) vili; urgency=medium

  * Test build. Increase timeout on mongoose to prevent reload error
  * Basic restore on clean unit work

 -- Tor Krill <tor@openproducts.se>  Wed, 01 Apr 2015 11:26:16 +0200

opi-control (1.0.18) vili; urgency=medium

  * Update web client to poll state of restore

 -- Tor Krill <tor@openproducts.se>  Mon, 16 Mar 2015 16:56:09 +0100

opi-control (1.0.17) vili; urgency=medium

  * Work in progress, restore done in detached thread.

 -- Tor Krill <tor@openproducts.se>  Thu, 12 Mar 2015 08:40:45 +0100

opi-control (1.0.16) vili; urgency=medium

  * Test build, initial version with statemachine

 -- Tor Krill <tor@openproducts.se>  Sat, 07 Mar 2015 14:47:10 +0100

opi-control (1.0.15) vili; urgency=medium

  * More precondition cleanup

 -- Tor Krill <tor@openproducts.se>  Wed, 11 Feb 2015 12:57:49 +0100

opi-control (1.0.14) vili; urgency=medium

  * Only delete certs if links

 -- Tor Krill <tor@openproducts.se>  Wed, 11 Feb 2015 12:13:31 +0100

opi-control (1.0.13) vili; urgency=medium

  * Minor updates to restore ui. <pa@openproducts.se>

 -- Tor Krill <tor@openproducts.se>  Wed, 11 Feb 2015 07:26:32 +0100

opi-control (1.0.12) vili; urgency=medium

  * Restore path somewhat working

 -- Tor Krill <tor@openproducts.se>  Fri, 06 Feb 2015 17:33:40 +0100

opi-control (1.0.11) vili; urgency=medium

  * Start implement web ui for restore, pa@openproducts.se

 -- Tor Krill <tor@openproducts.se>  Fri, 06 Feb 2015 12:05:14 +0100

opi-control (1.0.10) vili; urgency=medium

  * Initial stab at restore backup

 -- Tor Krill <tor@openproducts.se>  Wed, 04 Feb 2015 23:18:05 +0100

opi-control (1.0.9) vili; urgency=low

  * Updated error message #200

 -- Tor Krill <tor@openproducts.se>  Fri, 19 Dec 2014 15:14:59 +0100

opi-control (1.0.8) vili; urgency=low

  * Fix bug on missing key
  * Fix crash on faulty mailconfig #243
  * Increase timeout on redirect to nginx #247

 -- Tor Krill <tor@openproducts.se>  Fri, 19 Dec 2014 12:41:14 +0100

opi-control (1.0.7) vili; urgency=low

  * Make sure redirectors and inbound tests are disposed early.

 -- Tor Krill <tor@openproducts.se>  Thu, 18 Dec 2014 12:30:18 +0100

opi-control (1.0.6) vili; urgency=low

  * Add events for reinstall and completed startup

 -- Tor Krill <tor@openproducts.se>  Wed, 17 Dec 2014 15:58:36 +0100

opi-control (1.0.5) vili; urgency=low

  * Try figure out opi-name from email config and use in setup

 -- Tor Krill <tor@openproducts.se>  Mon, 15 Dec 2014 16:25:25 +0100

opi-control (1.0.4) vili; urgency=low

  * Add inbound tests for ports 587 and 2525
  * Call run-parts on reinit to let apps do fixups
  * Use more standard functions from libopi mail etc
  * Dont add users on setup if users present on SD

 -- Tor Krill <tor@openproducts.se>  Mon, 15 Dec 2014 14:01:26 +0100

opi-control (1.0.3) vili; urgency=low

  * Added more cache disable

 -- Tor Krill <tor@openproducts.se>  Mon, 20 Oct 2014 16:04:08 +0200

opi-control (1.0.2) vili; urgency=low

  * Remove form around cancel button

 -- Tor Krill <tor@openproducts.se>  Mon, 13 Oct 2014 17:45:53 +0200

opi-control (1.0.1) vili; urgency=low

  * Minor html cleanups

 -- Tor Krill <tor@openproducts.se>  Mon, 13 Oct 2014 16:06:53 +0200

opi-control (1.0.0) vili; urgency=low

  * Improve user input sanitation #199 and move logging to syslog

 -- Tor Krill <tor@openproducts.se>  Thu, 09 Oct 2014 13:02:14 +0200

opi-control (0.9.29) vili; urgency=low

  * Added check to see that there is an existing name in the opiname
    variable that we redirect to (pa@openproducts.se)

 -- Tor Krill <tor@openproducts.se>  Wed, 27 Aug 2014 11:43:58 +0200

opi-control (0.9.28) vili; urgency=low

  * Add first user as recipient for admin mail

 -- Tor Krill <tor@openproducts.se>  Mon, 25 Aug 2014 17:02:49 +0200

opi-control (0.9.27) vili; urgency=low

  * Fixed redirect to new opiname after completed setup

 -- PA Nilsson <pa@openproducts.se>  Mon, 25 Aug 2014 14:50:55 +0200

opi-control (0.9.26) vili; urgency=low

  * Initial implementation of redirect on port 80

 -- Tor Krill <tor@openproducts.se>  Sun, 24 Aug 2014 21:56:30 +0200

opi-control (0.9.25) vili; urgency=low

  * Initial implementation of opi-email autogeneration

 -- Tor Krill <tor@openproducts.se>  Sat, 23 Aug 2014 17:04:41 +0200

opi-control (0.9.24) vili; urgency=low

  * Use libopi instead of internal code

 -- Tor Krill <tor@openproducts.se>  Fri, 22 Aug 2014 13:28:00 +0200

opi-control (0.9.23) vili; urgency=low

  * Fixed reinit bug #64 <pa@openproducts.se>
  * Fixed syntax error on labels #140 <pa@openproducts.se>

 -- Tor Krill <tor@openproducts.se>  Wed, 20 Aug 2014 23:15:32 +0200

opi-control (0.9.22) vili; urgency=low

  * USB password seems to work now

 -- Tor Krill <tor@openproducts.se>  Wed, 20 Aug 2014 16:20:57 +0200

opi-control (0.9.21) vili; urgency=low

  * Initial support for password on usb device

 -- Tor Krill <tor@openproducts.se>  Wed, 20 Aug 2014 12:40:59 +0200

opi-control (0.9.20) vili; urgency=low

  * Improved input validation (PA Nilsson pa@openproducts.se)

 -- Tor Krill <tor@openproducts.se>  Sun, 17 Aug 2014 14:57:32 +0200

opi-control (0.9.19) vili; urgency=low

  * Initial add of led control

 -- Tor Krill <tor@openproducts.se>  Thu, 14 Aug 2014 23:53:14 +0200

opi-control (0.9.18) vili; urgency=low

  * Always write backup config fix #0127

 -- Tor Krill <tor@openproducts.se>  Wed, 13 Aug 2014 21:27:02 +0200

opi-control (0.9.17) vili; urgency=low

  * Don't start daemon on upgrade or install
  * Add new user to local mailfile, used later by fetchmail
  * Dont't overwrite opi-name in config if not set
  * Start Fetchmail daemon on unlock

 -- Tor Krill <tor@openproducts.se>  Tue, 12 Aug 2014 22:48:17 +0200

opi-control (0.9.16) vili; urgency=low

  * Really(?) set cloexec on inbound tests.

 -- Tor Krill <tor@openproducts.se>  Sun, 10 Aug 2014 21:51:02 +0200

opi-control (0.9.15) vili; urgency=low

  * Make sure displayname is set on new user (#102)
  * Fix bug on inbound test (#107)

 -- Tor Krill <tor@openproducts.se>  Thu, 07 Aug 2014 07:32:01 +0200

opi-control (0.9.14) vili; urgency=low

  * Start service not stop it damn it

 -- Tor Krill <tor@openproducts.se>  Mon, 04 Aug 2014 15:21:33 +0200

opi-control (0.9.13) vili; urgency=low

  * Start more apps on successful unlock.

 -- Tor Krill <tor@openproducts.se>  Sun, 03 Aug 2014 16:10:54 +0200

opi-control (0.9.12) vili; urgency=low

  *  Redirect all 404s to index page

 -- Tor Krill <tor@openproducts.se>  Fri, 01 Aug 2014 15:30:19 +0200

opi-control (0.9.11) testing; urgency=low

  * Fixed timeout for redirect to /admin
  * Showing "doing init"-page on reinit as well
  * Not removing spinner on reboot

 -- Tor Krill <tor@openproducts.se>  Thu, 31 Jul 2014 15:58:51 +0200

opi-control (0.9.10) testing; urgency=low

  * A lot of bugfixing 

 -- Tor Krill <tor@openproducts.se>  Tue, 29 Jul 2014 16:41:15 +0200

opi-control (0.9.9) testing; urgency=low

  * Make sure SD card is inserted before doing setup 

 -- Tor Krill <tor@openproducts.se>  Thu, 24 Jul 2014 23:25:43 +0200

opi-control (0.9.8) testing; urgency=low

  * Set close on exec on mongoose listening socket as well

 -- Tor Krill <tor@openproducts.se>  Thu, 17 Jul 2014 17:41:58 +0200

opi-control (0.9.7) testing; urgency=low

  * Do close sockets upon exec.

 -- Tor Krill <tor@openproducts.se>  Thu, 17 Jul 2014 17:19:25 +0200

opi-control (0.9.6) testing; urgency=low

  * Fix paths for sync (Was wrong when packaging) 

 -- Tor Krill <tor@openproducts.se>  Thu, 17 Jul 2014 15:48:42 +0200

opi-control (0.9.5) testing; urgency=low

  * Fix bug in deps

 -- Tor Krill <tor@openproducts.se>  Thu, 17 Jul 2014 15:27:55 +0200

opi-control (0.9.4) testing; urgency=low

  * Feature complete

 -- Tor Krill <tor@openproducts.se>  Thu, 17 Jul 2014 11:07:28 +0200

opi-control (0.9.3) testing; urgency=medium

  * Ok, so we have legacy boot. Try again to fix init.d

 -- Tor Krill <tor@openproducts.se>  Fri, 02 May 2014 12:03:20 +0000

opi-control (0.9.2) testing; urgency=medium

  * Misc fixes. Updated deps and init.d 

 -- Tor Krill <tor@openproducts.se>  Fri, 02 May 2014 08:53:57 +0000

opi-control (0.9.1) testing; urgency=medium

  * Minor builf fixes

 -- Tor Krill <tor@openproducts.se>  Thu, 01 May 2014 10:35:04 +0000

opi-control (0.9) testing; urgency=low

  * Initial Release.

 -- Tor Krill <tor@openproducts.se>  Wed, 30 Apr 2014 07:31:28 +0200
